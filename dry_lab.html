<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Dry Lab - iGEM 2019</title>

        <link rel="stylesheet" href='bootstrap.min.css'>

        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href='css/ScrollMagic.css'>
        <link rel="stylesheet" href="js/drift-basic.css">


        <script src="https://2019.igem.org/common/MathJax-2.5-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    </head>
    <body>
    <!--<div id="background-dot">
        <div id="container">
        </div>
    </div>-->


    <section id="right-menu">
        <div class="nav">
            <ul class="radial-nav">
                <li data-content="team"><a>TEAM</a></li>
                <li data-content="project"><a>PROJECT</a></li>
                <li data-content="wet-lab"><a>WET LAB</a></li>
                <li data-content="dry-lab"><a>DRY LAB</a></li>
                <li data-content="results"><a>RESULTS</a></li>
                <li data-content="parts"><a>PARTS</a></li>
                <li data-content="human-practices"><a>HUMAN PRACTICES</a></li>
                <li data-content="awards"><a>AWARDS</a></li>
                <li class="menu"><span class="icon-menu"></span></li>
            </ul>
        </div>
        <section class="content">
            <article class="item" id="team">
                <div class="overlay-navigation-team-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="team-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="project">
                <div class="overlay-navigation-project-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="project-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="wet-lab">
                <div class="overlay-navigation-wet-lab-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="wet-lab-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="dry-lab">
                <div class="overlay-navigation-dry-lab-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="dry-lab-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="results">
                <div class="overlay-navigation-results-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="results-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="parts">
                <div class="overlay-navigation-parts-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="parts-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="human-practices">
                <div class="overlay-navigation-human-practicecs-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="human-practices-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
            <article class="item" id="awards">
                <div class="overlay-navigation-awards-menu" style="opacity: 0; display: none;">
                    <nav role="navigation" id="awards-menu">
                        <ul>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="The beginning" class="" style="opacity: 0;">Home</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Curious?" class="" style="opacity: 0;">About</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="I got game" class="" style="opacity: 0;">Skills</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Only the finest" class="" style="opacity: 0;">Works</a></li>
                            <li class="" style="opacity: 0; transform: perspective(2000px) rotateY(180deg); transform-origin: calc(50% + 0px) calc(50% + 0px) 0px; display: none;"><a href="#" data-content="Don't hesitate" class="" style="opacity: 0;">Contact</a></li>
                        </ul>
                    </nav>
                </div>
            </article>
        </section>
    </section>




    <section class="container-fluid full-page">
        <div class="row align-items-center justify-content-between" id="header">
            <div class="col-sm-auto">
                <div class="logo-header">
                    <img src="images/logo_neurodrop_blanc.png" class="neurodrop-logo">
                    <span class="project-name">NeuroDrop</span>
                </div>
            </div>
            <div class="col-sm-auto" id="title-menu">
                <div class="row justify-content-end">
                    <div class="col-auto">
                        <a href="#hardware">
                        Hardware
                        </a>
                    </div>
                    <div class="col-auto">
                        <a href="#software">
                        Software
                        </a>
                    </div>
                    <div class="col-auto">
                        <a href="#model">
                        Model
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" id="explain-page">
            <div class="offset-2 col-sm-10">
                    <div class="row" id="hardware">
                        <div class="col-sm-2 internal-menu">
                            <a data-toggle="collapse" href="#ewod-menu" role="button" aria-expanded="true" aria-controls="ewod-menu">
                                <h3>EWOD</h3>
                            </a>
                            <div class="collapse" id="ewod-menu">
                                <h5>Why Ewod?</h5>
                                <h5>How to make an electrowetting plate?</h5>
                                <h5>How to pilot the HV 507?</h5>
                                <h5>What about the dielectric?</h5>
                            </div>
                            <a data-toggle="collapse" href="#pipette-menu" role="button" aria-expanded="false" aria-controls="pipette-menu">
                                <h3>Pipette</h3>
                            </a>
                            <div class="collapse" id="pipette-menu">
                                <h5>What we started with</h5>
                                <h5>How the pipette works</h5>
                                <h5>What we did to automatize the pipetting</h5>
                                <h5>Algorithm to automate a pipette</h5>
                            </div>
                            <a data-toggle="collapse" href="#temperature-menu" role="button" aria-expanded="false" aria-controls="temperature-menu">
                                <h3>Temperature</h3>
                            </a>
                            <div class="collapse" id="temperature-menu">
                                <h5>Why Ewod?</h5>
                                <h5>How to make an electrowetting plate?</h5>
                                <h5>How to pilot the HV 507?</h5>
                                <h5>What about the dielectric?</h5>
                            </div>
                            <a data-toggle="collapse" href="#light-detector-menu" role="button" aria-expanded="false" aria-controls="light-detector-menu">
                                <h3>Light Detector</h3>
                            </a>
                            <div class="collapse" id="light-detector-menu">
                                <h5>Why Ewod?</h5>
                                <h5>How to make an electrowetting plate?</h5>
                                <h5>How to pilot the HV 507?</h5>
                                <h5>What about the dielectric?</h5>
                            </div>
                            <a data-toggle="collapse" href="#command-board-menu" role="button" aria-expanded="false" aria-controls="command-board-menu">
                                <h3>Command Board</h3>
                            </a>
                            <div class="collapse" id="command-board-menu">
                                <h5>Why Ewod?</h5>
                                <h5>How to make an electrowetting plate?</h5>
                                <h5>How to pilot the HV 507?</h5>
                                <h5>What about the dielectric?</h5>
                            </div>
                            <a data-toggle="collapse" href="#motors-menu" role="button" aria-expanded="false" aria-controls="motors-menu">
                                <h3>Motors</h3>
                            </a>
                            <div class="collapse" id="motors-menu">
                                <h5>Why Ewod?</h5>
                                <h5>How to make an electrowetting plate?</h5>
                                <h5>How to pilot the HV 507?</h5>
                                <h5>What about the dielectric?</h5>
                            </div>
                        </div>
                        <div class="col-sm-10 internal-text">
                            <div class="row mb-sm-5">
                                <div class="col-sm-12 text-center">
                                    <h1>EWOD Plate</h1>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-7 mb-sm-2">
                                    <h3>Why EWOD?</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>First of all, what does EWOD mean? EWOD stands for Electrowetting On  Dielectric. This is a way to move small drops over a dielectric (insulating) plate. If you want to learn theory more about it let check over there. #TODO(link)</p>
                                    <p>To sum up,  EWOD is a way to <strong>move small volumes</strong> such as tears. By applying a <strong>high voltage</strong> on pads under the drops the drop is distorted toward the  electrified up to a point it easier for it to move onto the pad than to stay on it’s own pad.</p>
                                    <p>We chose <strong>EWOD</strong> because it is a <strong>lossless solution of moving droplets</strong>. Indeed there is always a loss while pipetting a solution and, as we are working with small quantities, we cannot afford these losses. Moreover we wanted to develop an <strong>automated devices</strong> which is possible thanks to EWOD.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/electo-mouillage.gif" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-7 mb-sm-2">
                                    <h3>How to make an electrowetting plate?</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 detail">
                                    <p>
                                        In order to have a fully controllable electrowetting plate, a component capable of activating (enabling or disabling) pads one by one is needed. It is the HV507 of Microchip, or it’s soft surname according to it’s datasheet, 64-Channel Serial-to-Parallel Converter with High-Voltage Push-Pull Outputs,  that have been chosen for several reasons :
                                    </p>
                                    <p>
                                        <ol>
                                            <li>64 channel High Voltage outputs</li>
                                            <li>Up to 300V Output Voltage</li>
                                            <li>Latched Data Outputs</li>
                                            <li>Output Polarity and Blanking</li>
                                            <li>Chainable</li>
                                        </ol>
                                    </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/ewod.png" data-zoom="images/ewod.png" class="img-fluid rounded drift-demo-trigger" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>
                                        Which  in substance mean it can deliver a high tension over 64 pads, can be piloted thanks to an arduino, can memorise it’s outputs, has an easy way on blanking it’s outputs and can be chained. The last point is very important in our case because the design of the electrowetting plate is this one :
                                    </p>
                                    <p>
                                        Each color represent a different HV507. Indeed, to automate as many processes as possible, a big number of pads is needed. Blue and Red zone correspond to the zone that are <a href="#temperature">temperature controlled</a>. The orange one is for light detection and finally green and yellow one are for storage of the drops when they do not need to be at a set temperature nor need their brightness to be measured.
                                    </p>
                                    <p>
                                        As you may see, each pad has a number that unique and constructed as so : “x.y” x (ranging from 1 to 5) is the identifier of the chip in the chain and y (ranging from 1 to 64) correspond to the output and thus the pad on the chip.
                                    </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/ewod_design.png" class="img-fluid rounded" style="padding: 10%;"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>How to pilot the HV 507?</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>As the functional block diagram from the datasheet shows it, data flows in from DIOA to DIOB through the 64bits static shift register. The data are then shifted from the static register to the latches (mini memory) on a rising edge of *LATCH ENABLE*. Finally the outputs are *calculated* based on the content of the latches and depending of the *BLANKING* and *POLARITY* inputs. The first one is used to reset all the outputs and the *POLARITY* input is used in order to say if a *0* correspond to a high or a low voltage.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/ewod_functional_diagram.png" class="img-fluid rounded"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>Finally, all theses component have been routed onto Kicad in order to give the following result :</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="row">
                                        <div class="col-sm-6">
                                            <div class="text-center">
                                                <img src="images/ewod-neurodrop-face.png" class="img-fluid rounded"/>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="text-center">
                                                <img src="images/ewod_neurodrop_3d.png" class="img-fluid rounded"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>What about the dielectric?</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>As you may now, water is <i>most of the time</i> conductive, which mean that if a drop overlap 2 pads, current would flow through as the drop would close the circuit which is not the effect wanted.</p>
                                    <p><strong>Dielectric</strong> is used as a <strong>protective layer</strong> over copper pads. However, this protective layer must have some particular <strong>properties</strong>:
                                        <ul>
                                            <li>As the capacitive effect depend of the square of the distance between the drop and the copper pads, the dielectric must be as thin as possible.</li>
                                            <li>The drops must glide as easily as possible onto the surface. In other words, the friction force between the drop and the dielectric must be as low as possible because this mean the drop will need less energy to move.</li>
                                        </ul>
                                    </p>
                                    <p>These are the reasons why we chose cellophane paper, which is really thin and cheap, as a dielectric. Moreover, we coated it with some water repellent such as Rain-X. Finally a thin layer of nut oil is used to easen the gliding of the drop.</p>
                                </div>
                            </div>
                            <div class="row mt-sm-5 mb-sm-5 end-section"></div>
                            <div class="row mt-sm-5 mb-sm-5">
                                <div class="col-sm-12 text-center">
                                    <h1>The Pipette - reusing a pipetting device</h1>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>One of the most time-consuming tasks in the lab is to pipette samples. As this action is also paramount for the success of any operation, we have decided to automate it. We proceeded in a similar fashion than the 2018 iGEM Grenoble team, but we went a little further by separating the command of the pipette from the pipetting module.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>What we started with</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>As said in the introduction, we based the automation of the pipette on last year’s iGEM Grenoble team. We took the same device as they did: a BioHit eLine pipette. Then we just added an electronic device that could simulate the press of a button.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/pipette-eline.jpg" class="img-fluid rounded" style="height: 300px;" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>A button is basically a wire that can be connected or disconnected by pressing it down. When we press the button, the difference of potential before and after the button is pressed, is zero (V2-V1=0), but when the button is not pressed the difference of potential is not zero (its value depends on the rest of the circuit).</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/interruptor-schema.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>To simulate the press of a button, the idea is then to replace the buttons by an electronic component that could be switched on and off with a command board (the Arduino). By measuring the potentials on the pipette, we saw that for each button, one of the terminals was at ground potential. There are then two ways to command the pipette: either we shortcut the two terminals, or we just command the tension on the button’s terminal that is not to ground. Last year’s team decided to go with the first option. The main downside of this solution is that we need two times more cables (two cables for every button). The solution of imposing a voltage only requires one cable per button, and this is the main reason why we went with this option.</p>
                                    <p>The tension we need to impose is either the ground’s tension, or another tension (provided it is superior to half of the power tension of the pipette). In our case we just had to impose either 0V or 5V compared to GND. Those two tensions are natively accessible on the Arduino board.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>We decided to control the tensions sent to control the buttons through an electronic device called an optocoupler with numerical output: the H11L1. This piece of technology is commanded via the arduino and returns either 5V or 0V.  Here is one H11L1:</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/numerical_otocoupler.jpg" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>On the final board, we are using seven of them to control the seven buttons of the pipette:</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/optocoupler-final-pcb.jpg" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>Each chip is connected to two resistors. One of those resistors is meant to protect the device (the 1kΩ resistor) and the other one is called a “pull-up resistor” (the 270Ω resistor). A pull-up resistor (or pull-down resistor, depending on what it is connected to) is a resistor connected between a cable which tension can vary and a point at a fixed tension. In our case, it connects the output of the optocoupler to 5V. When the output is not commanded, no current flows in the resistor and the output of the optocoupler is therefore 5V.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>How the pipette works</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>The pipette is a device with two main parts: an electronic board and a motor. The electronic board controls the pipette and acts as the main interface between the user and the pipetting mechanism. It is composed of a screen and 8 buttons (one of them being behind the pipette, and therefore invisible on figure 1). </p>
                                    <p>The user starts by reinitializing the pipette by pressing one of the two “tip” buttons. Then he selects the volume he wants to pipette using the buttons, and then he presses the start button (in blue), the same button is used to pipette and release the liquide pipetted. At the end of the experiment, the user ejects the tip by pressing once again on the “tip” button. </p>
                                    <p>The command board detects each time a button is pressed and activates the motor to pipette or eject the right amount of fluid. In order to control the pipetted volume, the pipette uses a crenellated wheel. This wheel is placed over a LED fixed to the motor, and turns in front of two phototransistors on the command board. The signal received is then transcribed into steps for the command board so that the pipette knows precisely the amount of solution it has pipetted. </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/pipette_bloc_moteur.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>What we did to automatize the pipetting</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>As we mentioned earlier, we can replace all the buttons by optocouplers. This allows us to automate the pressing of the buttons. </p>
                                    <p>We also decided to separate the electronic board of the pipette from the motor so it would be easier for the motor block to move. In order to do this, we had to desolder the phototransistors behind the electronic board of the pipette and create a secondary board where to put the phototransistors, that would then sit right above the crenned wheel and the LED. </p>
                                    <p>This being done, we designed a new case both to protect the motor and to fix it securely to a rail that moves vertically.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/montage-pipette-arduino.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>In order to move the pipette, we will use a mechanism that will transform the movement of a motor into a linear movement. The movement is transformed from a circular movement to a linear one thanks to a screw-nut mechanism. </p>
                                    <p>In order to make the movement steadier, we added two bars to guide it.</p>
                                    <p>The pipette will be fixed both to the rails and the screw via a nut, thus allowing it to move only in one direction.</p>
                                    <p>More information on guiding the pipette will be given on the “structure” part of this wiki.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Algorithm to automate a pipette</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>In order to control the pipette, we have first to identify the different actions performed to pipette a sample. This protocol will then be translated into a sequence of actions that the hardware will perform when the order is given by the software.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="offset-sm-1 col-sm-10 align-self-center">
                                    <table class="table table-bordered table-striped table-dark">
                                        <thead>
                                        <tr>
                                            <th scope="col" colspan="2">BEGIN</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>The user enters the solution he wants to pipet from</td>
                                            <td rowspan="2">The user chooses a predefined protocol</td>
                                        </tr>
                                        <tr>
                                            <td>The user enters the volume he wants to pipet</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The pipet is reinitialized (by pressing on the “reinitialize” button and then the “tip” button)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The volume that the user defines is applied to the pipet (by pressing a certain number of times on the “+” or “-” button, and then by pressing the “enter” button)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The pipette is placed over the tip used to pipet into the desired solution</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The tip is placed on the pipette (by lowering the pipette and then raising it again)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The pipet is placed over the solution we want to pipet from</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The solution is pipetted (by lowering the pipette, pressing on the “start” button, and then raising the pipette again)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The pipette is moved to the EWOD plate</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The solution is dropped on the EWOD plate (by lowering the pipette, pressing on the “start” button, and then raising the pipette again)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The pipette is moved over to where it first took the tip</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The tip is ejected (by lowering the pipette, pressing on the “tip” button, and then raising it again)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The pipette is moved over to its first position (over the EWOD plate)</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">The initial volume (5µL) is applied to the pipette (by pressing a certain number of times on the “+” or “-” button, and then by pressing the “enter” button)</td>
                                        </tr>
                                        <tfoot>
                                            <tr>
                                                <th scope="col" colspan="2">END</th>
                                            </tr>
                                        </tfoot>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Conclusion on the method</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>This method is functional but shows one major downside: we don’t really know what is happening inside the pipette. Therefore we can’t really offer any ways to repair the device if anything happens to it. </p>
                                    <p>This is why we decided to implement a second device, using a different pipetting method that is a little less precise but much easier to repair in case of failure: peristaltic pump. This second device, that we finally adopted for the final dispositive, is presented on another page of this wiki.</p>
                                </div>
                            </div>
                            <div class="row mt-sm-5 mb-sm-5 end-section"></div>
                            <div class="row mt-sm-5 mb-sm-5">
                                <div class="col-sm-12 text-center">
                                    <h1>The Pipette - using a peristaltic pump</h1>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>We have seen on another page of this wiki how we could use an automatic pipette in our device. However this solution shows one major downside: we don’t know how the pipette really works. This means that in case of failure, nothing can be done. </p>
                                    <p>Another downside of repurposing a used automatic pipette is that it is not made for this use and although it works, the way we make it work is far from being perfect and would never suit a classic laboratory device.</p>
                                    <p>For all those reasons, we had to develop another solution for pipetting the solutions. This is why we created a pipetting device using a peristaltic pump.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Peristaltic pumps</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>A peristaltic pump is a device that can pump fluids using a motor that will press a tube. The idea is that by moving the pressure point, the pressure inside the pump will vary and entail a movement in the fluid. </p>
                                    <p>Those pumps are common on laboratory devices, mainly to inject precise amounts of solution into other solutions automatically. They are also used in cardiopulmonary bypass.</p>
                                    <p>In our case we want to create a system that will pump a precise amount of solution. Before anything let’s model our solution.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/peristaltic-pump.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Model</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>Before developing this solution, we created a theoretical model of the device. The idea of this model is to get a good idea of the precision we expect from this device, and to validate its use in our system. </p>
                                    <p>The first step is to fix the different parameters of the pump. Let’s therefore create a schematic of this device: </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/schematic-pump.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <h4>Method</h4>
                                    <p>The different interesting parameters in this model are:
                                        <ul>
                                            <li>The inner diameter of the tube (represented in sky blue on the schematic)</li>
                                            <li>The length of the tube at the pumping section (the length of the tube that is bent)</li>
                                            <li>The precision with which we can turn the pumping system (represented in green on the schematic)</li>
                                            <li>The length of the tube between the pumping mechanism and the surface of the solution to pump</li>
                                        </ul>
                                    </p>
                                    <p>The physical parameters to take into account are:
                                    <ul>
                                        <li>The power developed by the pump</li>
                                        <li>The compressibility of the air (we are pumping the fluid by playing with the pressure of the air inside the tube)</li>
                                    </ul>
                                    </p>
                                    <p>With those parameters taken into account, the idea is quite simple:
                                    <ul>
                                        <li>First we approximate the volume that can be pumped at minima</li>
                                        <li>At this point we’ll be able to give a theoretical precision to our device, and therefore validate its use.</li>
                                        <li>Then,we look at the force that the motor needs to apply to pipette a solution</li>
                                        <li>From there we get an idea of the power that the pump needs. This will allow us to validate the choice of the pump.</li>
                                        <li>To finally validate the device, we’ll pipette volumes with it and compare them to volumes pipetted with conventional pipettes. We’ll compare them using very thin columns and compare the height of the solution. </li>
                                    </ul>
                                    </p>
                                </div>
                                <div class="col-sm-7 align-self-center">
                                    <h4>Parameters of our device and physical considerations</h4>
                                    <p>In our case we used a tube with an inner volume of 3mm. The length of this tube is 4cm. The pump is connected to a step-motor (NEMA 17) that will be driven in microstep mode. This means that we’ll be able to control the motor with a precision of 1/6400 of turn. In terms of degrees this is is equal to 0,05625°. The length of the tube between the pumping mechanism and the solution is of 4cm. </p>
                                    <p>To get to the compressibility of air, we usually approximate the air to an ideal gas. This means that we will consider that the pressure, the temperature, the quantity of gas and the volume of the air will be linked by this formula: \(pV=nRT\) This model is close to reality at atmospheric pressure and normal temperatures. With this model, we get to the following expression of the compressibility of air (isothermic):
                                        $$\chi_T = \frac{1}{V}\left(\frac{\partial V}{\partial P}\right)_T = \frac{P}{nRT} \frac{nRT}{P^2} = \frac{1}{P} $$
                                    </p>
                                    <p>Now, when we consider our device, the maximum we might need to pipette is 20&mu;L, which. This means that the increase of pressure due to the presence of the solution will be of \(20mg*\pi*(3mm)^2=0,05Pa\). This means that the variation of pressure in our tube due to the presence of the solution will be 6 orders of magnitude lower than the atmospheric pressure. It is therefore neglectable. In fact, the error we make with this approximation is of the order - in our application - to (at most) \(210^{-5}\mu L\).</p>
                                    <p>Now let’s see how low we can pipette with our device. </p>
                                    <p>We said that we had a tube 4cm long, of an inner diameter of 3mm. This means that the volume of the tube at the pipetting position is \(1130,94 mm^3=1130,94 \mu L\). Now, we know that we pipette all this volume in half a turn (it’s obvious when referring to the schematic). This means that we can pipette with a precision of 1/3200 of this volume. This leads to a precision of 0,35&mu;L.</p>
                                    <p>As we need to pipette solutions which volume varies from 10 to 20&mu;L, we are precise enough. </p>
                                    <p>Now let’s look at the pump itself. In the case where we had to pump 20&mu;L at once, we would need to exert a force of around \(20mg*9,81m*s^{-2}=0,1962N\). The drivers that we are using needs around 1&mu;s to perform a step. This means that to pipette 20&mu;L, we’ll need around 57 steps, that is 57&mu;s leading to a needed power of \(0,196N*0,7mm/57µs = 2,4W\). This is way under the power that we can deliver to our motor (we tested the device with powers ranging from 5 to 24W).</p>
                                </div>
                                <div class="col-sm-7 align-self-center">
                                    <h4>Conclusions on the model</h4>
                                    <p>What we can conclude from this model is that our device allows us to pipette the volume of solution we want with an error of around 0,35&mu;L. If we want to pipette 10&mu;L, this represents a relative error of 3,5%, which is more than acceptable for what we want to do. </p>
                                </div>
                                <div class="col-sm-7 align-self-center">
                                    <h4>Possible improvements</h4>
                                    <p>One simple way to increase the precision in our device is by adding a reductor between the motor and the peristaltic pump. With a simple 1:10 reduction, we would achieve precisions of 35nL. </p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Final result</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7 align-self-center">
                                    <p>We described on the software part of the wiki, how we were making the Arduino pipette a solution. We chose not to modify the software to develop this solution. Changing the software on the computer was one simple solution, that would have only asked to replace a few lines, but we decided to test the adaptability of the command board’s program. </p>
                                    <p>We therefore only modified the code written on the Arduino. This modification asked us to replace around 10 lines. This proved to us that we could easily adapt our program. </p>
                                    <p>This was one of the goals of this project: create an open-source project that could be re-used as a complete basis for any new autonomous machine. </p>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>In terms of pipetting, here are the tests we did.</p>
                                    <p>We can clearly see that the volume of solution being pipetted by a controlled pipette and by our device are indistinguishable. This proves that our system works, and represents a real alternative to other pipetting systems.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-sm-5 mb-sm-5 end-section"></div>
                            <div class="row mt-sm-5 mb-sm-5">
                                <div class="col-sm-12 text-center">
                                    <h1>Temperature control</h1>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>To ensure that the bacteria do their job in detecting the biomarker, they need to be in a <strong>temperature controlled medium</strong>. The protocols we are using, require a constant pre-fixed temperature, therefore, we are going to <strong>control the temperature</strong> of the EWOD plate on which the experiments take place.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Control process</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>So that the temperature of a zone is maintained, we are using a <strong>loop control system</strong>. The user enters a temperature as a set point or uses the pre-defined protocols that contain the temperature set points. The system then adjusts its variables automatically to <strong>maintain the set point through the feedback loop</strong>. The heating and cooling of the zones is done using peltier modules. </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/control_process.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <h4>Peltier modules</h4>
                                    <p>The actuator used to heat up or cool down the zones is a Peltier module. It is a thermoelectric heat pump; it transfers heat from one side to the other depending on the direction of the current passing through it, using electrons as the heat carrier. It works based on an effect called, Peltier effect, which was discovered by the French physician Jean-Charles Peltier in 1834. The module consists of two different conductors linked by two junctions, when a current passes through one conductor, a thermic flux appears and starts to heat up one electrode and cools down the other; this phenomenon is related to the flow of entropy. Peltier modules are small, compact and can deliver stable temperatures, which makes them perfect for our application.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/peltier_modules.jpg" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <h4>Temperature sensor</h4>
                                    <p>To measure the exact temperature of the zone, a temperature sensor is used. The chosen sensor is TMP1075. It is an integrated circuit that uses a thermo-resistor, which delivers a digital data that can be interpreted as the surface temperature by an Arduino code. The sensor is placed on the temperature-regulated zone, to have a maximum accuracy. The integrated circuit has an on-chip 12 bits analog-to-digital converter that provides a resolution of 0.0625°C. The data is delivered to the Arduino card via the I<sup>2</sup>C bus, where it can be processed.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/temperature_sensor.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <h4>PID controller</h4>
                                    <p>Once the temperature of the surface is measured, it is then compared to the set point. The output voltage to be delivered to the Peltier module is computed according to that temperature difference. The calculations are done by a digital PID controller (proportional-integral-derivative action). The coefficients of the PID are tweaked to have an optimal result in regards to the stability, rapidity and precision of the system. The PID delivers an integer that can be positive or negative to indicate in which direction the current must flow and the power to deliver.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/pid_controller.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <h4>Peltier control : H bridge</h4>
                                    <p>These instructions are given to an intermediate circuit that manages the voltage and the current’s direction. This circuit is called an H bridge (in our case we used the L6206). It is an integrated circuit that from a voltage ranging from  8V to 27V, delivers an output voltage that will be proportional to the instruction given by the Arduino with the corresponding current direction. This allows us to control the power sent to the peltier modules, on average, and during short periods of time. This way the peltier module will heat up or cool down the zones to match the set temperature.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/h_bridge.jpg" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7">
                                    <h3>Overall conclusion</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>These instructions are given to an intermediate circuit that manages the voltage and the current’s direction. This circuit is called an H bridge (in our case we used the L6206). It is an integrated circuit that from a voltage ranging from  8V to 27V, delivers an output voltage that will be proportional to the instruction given by the Arduino with the corresponding current direction. This allows us to control the power sent to the peltier modules, on average, and during short periods of time. This way the peltier module will heat up or cool down the zones to match the set temperature.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/temperature_control_results.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-sm-5 mb-sm-5 end-section"></div>
                            <div class="row mt-sm-5 mb-sm-5">
                                <div class="col-sm-12 text-center">
                                    <h1>Light detector</h1>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Photomultipliers</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>Photomultipliers used to be very expensive devices which required thousands of Volts to amplify photons. </p>
                                    <p>The evolution of semiconductor physics has led to the creation of similar devices in their characteristics, without the need of  very high voltage, and with more reasonable prices. Built on silicon, theses are called Silicon Photomultipliers (SiPM). Those devices are usually much cheaper than the former tube photomultipliers, as the one we used costs around $60, which is actually cheaper than some cameras. Another advantage of using this kind of device is their size: a SiPM usually presents itself as a square of a few millimeters side length. </p>
                                    <p>A Silicon Photomultiplier converts light into an electrical current. This is done by creating electrons with incident photons. Those electrons will then move in one direction, imposed by the tension applied to the SiPM. The movement of the electrons will lead to collisions with other electrons, thus creating larger flux of electrons. This phenomenon is called quantum quench. </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/silicon-photomultipliers.jpg" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>The conversion of the light into a current is done with a specific type of material called a semiconductor. A semiconductor is a material that alone acts as an insulator but that is close to being a conductor and that can effectively become one if put in the right electromagnetic conditions. </p>
                                    <p>Using the right configuration, light can be used as an activator to modify the semiconductor so it becomes conductor. This leads to a flux of photons inducing a flux of electrons. This phenomenon is used in phototransistors. With photomultipliers something similar is done: a flux of photons is converted into a flux of electrons and then amplified using quantum quench.</p>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Current detection</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7 align-self-center">
                                    <p>The SiPM creates an electrical current proportional to the light received.  Therefore measuring this current is directly equivalent to measuring the brightness of the bacteria. </p>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <p>The component used to perform this measurement is a current sensor from TI, the INA226.  It has been chosen because :
                                        <ul>
                                            <li>It can measure a wide range of currents as its architecture allows versatility with an integrated digital amplification</li>
                                            <li>It is a digital sensor, which means it samples by itself and sends the data to the arduino via I2C (a communication protocol)</li>
                                            <li>It can sample the data much more precisely than the Arduino: it samples on 16 bits where the arduino samples on 10 bits. This means it can distinguish 65536 values where the arduino could only see 1024. This explains the use of this component for our device.</li>
                                            <li>It has a very low bias current. This means that, by construction, the current needed to power the component won’t disturb the measurement.</li>
                                            <li>It can average up to 1024 values before storing data into its registers (this means that we can linearize measurements, and reduce the impact of the noise) </li>
                                        </ul>
                                    </p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/sipm.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-5">
                                <div class="col-sm-7 align-self-center">
                                    <h5>How does this work?</h5>
                                    <p>The current emitted by the SiPM goes through the Shunt resistor (Rshunt) that has a known value. As the current measurement need to be very precise, very precise resistor have been chosen (with values accurate to 1% when usual resistors have 10% accuracy especially on low value).</p>
                                    <p>The INA226 measures the voltage drop due to R<sub>shunt</sub> and stores it in its voltage register. As it has been initialised, it knows the value of R<sub>shunt</sub> and thank to Ohm’s law, it can compute the current passing through : \(I_{SiPM} = \frac{U}{R_{shunt}}\)</p>
                                    <p>Finally, the data is requested by the arduino through the I<sup>2</sup>C connection and thanks to the arduino library INA2XX. Data can then be stored for further analysis.</p>
                                </div>
                                <div class="col-sm-5 align-self-center">
                                    <div class="text-center">
                                        <img src="images/rshunt.png" class="img-fluid rounded" />
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7">
                                    <h3>Conclusion and overall strategy</h3>
                                </div>
                            </div>
                            <div class="row mb-sm-2">
                                <div class="col-sm-7 align-self-center">
                                    <p>As it has been shown, in order to detect the signal emitted by the bacteria, a very sensible sensor called a Silicon Photomultiplier (SiPM) needs to be used. The signal it returns is a current that will be measured thanks to a current sensor : the INA226. Finally, the data can be treated on your computer using NeuroDrop’s software.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="row" id="software">

                </div>
                <div class="row" id="model">

                </div>

                <div class="row" id="command-board">
                    <h2>Command Board</h2>
                    <p>The hardware we have made during this project deals with a lot of individual components, all electronic, that are piloted via an Arduino Mega. In most projects using this kind of device, PCB’s called “Shields” are developed to simplify the command of the various elements and to reduce the space taken by the electronic part. </p>
                    <h3>Developing the command board</h3>
                    <p>The goal of the command board is to command a series of individual components with a unique command board. The first thing to do is therefore to command each individual components separately. This is done amongst other things using breadboards. Here for example we are controlling the pipette individually using a breadboard and an Arduino Uno (it is another command board that works just like the Arduino Mega but has less pins). </p>
                    <img src="images/montage-pipette-arduino.png">
                    <p>Once each circuit is working individually, we “just” have to assemble them. This is first done developing a coherent electrical scheme. For this project we used the Kicad software which is free to use. Here is the scheme of the command board:</p>
                    <img src="images/command_board_circuit.png">
                    <p>Individually all the connections are relatively simple but as a whole, the system is quite complex. This complexity is increased by the fact that all the connection must be placed on a single double-face PCB board. Here again we are using Kicad to create the PCB.</p>
                    <h3>The composition of the command board</h3>
                    <p>Once we have created the electronic circuit, we need to organise the different components. The disposition of the components has to take into account the accessibility and the relative position of the different parts. For example, the power supply of the motors should be next to the drivers, so that we need a shorter cable to link the two. Here is the back of the command board on schematics and without the circuits:</p>
                    <img src="images/command_board_schema_1.jpg">
                    <p>On this face we have the temperature control. This control is done through a H-Bridge, as described on the temperature control page on the Wiki. The H-Bridge is the chip marked with the L6206PD, it is connected to a series of resistors (marked 5kΩ, 100kΩ and R) and a series of capacitors (marked 5,6nF, 10nF, 100nF and 220nF).</p>
                    <p>Here is the front of the command board:</p>
                    <img src="images/command_board_schema_2.jpg">
                    <p>
                        On this side we have most of the connectors, and most of the components. Each of the connectors is marked both on the schema and on the real plate. Those connectors are:<br>
                        - Peltier Exit: it connects to the two peltier that regulate the temperature.<br>
                        - SiPM Alim: the alimentation of the SiPM sensor (27VDC - 15mA)<br>
                        - Mag Relay: this connector activates the electromagnet that ensures that the system is closed.<br>
                        - Peltier Alim: the alimentation of the Peltier (12VDC - 2A)<br>
                        - Fan1 Relay: the relay that activates the fan under the first peltier.<br>
                        - Fan1 Alim: the alimentation of the first fan (12VDC - 10mA)<br>
                        - Fan2 Relay: the relay that activates the fan under the second peltier<br>
                        - Fan2 Alim: the alimentation of the second fan (12VDC - 10mA)<br>
                        - Plate Relay: the relay that activates the heating of the plate<br>
                        - Plate Alim: the alimentation of the plate<br>
                        - Plate: the output that goes toward the plate<br>
                        - MotorX: the exit alimentation for the X motor<br>
                        - MotorZ: the exit alimentation for the Z motor<br>
                        - Servomotor: the output that goes towards the servo motor in order to open or close the hole so that the pipette can drop the solution onto the EWOD plate<br>
                        - Motors Alim: the alimentation of the motors (24VDC - 1A)<br>
                        - Motors Relay: the relay that activates the alimentation of the motor<br>
                        - EWOD Alim: the alimentation of the EWOD plate (300V - 10µA)<br>
                        - EWOD Relay: the relay that activates the alimentation of the EWOD plate<br>
                        - Sensor Close: the input of a sensor that sees if the device is closed or not<br>
                        - Sensor X: the input of a sensor that tells if the plate is at the initial position<br>
                        - Sensor Z: the input of a sensor that tells if the pipette is at the initial position<br>
                        - Pipette Exit: the output with the signals going towards the pipette<br>
                        - EWOD Exit: the connector that<br>
                        On this plate we also have two chips (DRV 88 25) that control the two motors. Those chips are presented in more detail in the motor part of the wiki.
                        We also have 7 H11L1 chips. Those chips are controllable switches and they will be presented in more detail on the pipette part of the wiki.
                        There is also a capacitor placed on the board. This component is used to help the pipette work properly. This will also be presented in more detail on the pipette page.
                    </p>
                    <h3>Dealing with power</h3>
                    <p>Now that all the components are placed where we want them to, we need to think about tracing the circuit. This might seem quite straightforward but we have to take into consideration the type of signal we are exchanging between the components.
                        The biggest threat for the board at this time is to use a path width too small to link two components exchanging power. Because of Joule’s effect, a current flowing through a cable heats it. This can potentially damage the board or the components if not taken into account.
                        The solution we went for, was to trace the circuits that would require power, without taking into account the width of the cable, then look at the length of the cable we just traced and then input it into a software called Pcb Calculator. This software takes into account the length of a path, the maximal increase in temperature desired, the thickness of the path, the type of conductor used, and returns the minimal width of the path we have to choose.
                        In our case, we needed paths that would be at least 0.3mm wide to have an increase of temperature of the cable inferior to 10°C.
                        Then it is just a matter of changing the width of the cable we traced to be sure that no trouble will come from the heat generated by the current flowing through the cables.
                    </p>
                    <h3>Linking all the components</h3>
                    <p>Now that we have all our components placed where they have to be, and that we have placed all the circuits needing power, we just need to link the remaining components.
                        There are two  ways of linking the components: by hand, linking them one by one, and by using an algorithm called “auto-router”. This algorithm finds the best configuration of paths to reduce the length of the paths.
                        We went with the algorithm to route the remaining components. This is the result we got for the back side:
                    </p>
                    <img src="images/auto_router_result_back.png">
                    <p>This is the front side:</p>
                    <img src="images/auto_router_result_front.png">
                    <p>All the components have been marked to facilitate the assembly once the board is printed. Those markings appear in turquoise on the boards but are printed in white on the PCB.
                        We also notice that a lot of routes seem to end at no component. That is because the algorithm used to trace the circuit uses “vias”. Vias are holes in the circuit that connects the two sides. This allows the circuits to cross without interfering one with the other.
                    </p>
                    <h3>Final result</h3>
                    <p>Kicad has a very useful tool: a 3D rendering software. This allows to have a first impression of the end result, that is after impression.
                        Here are the rendering using Kicad:
                    </p>
                    <img src="images/kicab_result.png">
                    <p>And here is the real board, with all the components assembled:</p>
                    <img src="images/command_board_final.jpg">
                    <p>The real board is positioned over the Arduino Mega and the two drivers are also placed where they must, that is why there is a slight difference between the 3D model and the real board.</p>
                </div>
                <div class="row" id="motors">
                    <h2>Motors</h2>
                    <p>In order to move the pipette and the plate, we have decided to go with a system of screw-nut that is commanded via motors. The motors used in the prototype are step-by-step motors. That means that we specify their position via the number of steps they have to turn (each step is a fraction of a turn). The motors that we are using are the NEMA 17 motors, which are very affordable and easy to work with. Each motor is controlled via a DRV 8825 module. This module is also very affordable and is easily controlled with an Arduino.</p>
                    <h3>The step motor</h3>
                    <p>A step motor is a device that allows an axis (the rotor) to turn inside another piece (the stator) by increments.
                        All electrical motors run with the same principle: an electrical current that circulates into a conductor generates a magnetic field. This means that by coiling a cable and by flowing a current inside, we can generate a strong magnetic field.
                        This also means that when no current is applied, no force is applied.
                        The idea in a step motor is to use multiple needles that will act as the rotor and to move them step-by-step by applying a current on different coils in the stator, placed strategically.
                        Here is a modelisation of a rotor, with the two polarities of the magnets colored differently and all the magnets attached to a core that will act as the axis of the motor.
                    </p>
                    <img src="images/step_motor_rotor.png">
                    <p>The idea in a step-by-step motor is to use a different number of coils than magnets in the stator. In our modelisation we have used six magnets (or three linear dipoles), we will use height coils:</p>
                    <img src="images/step_motor_rotor_stator.png">
                    <p>This arrangement of coils ensures that there are no stable position for the motor, or in other words that there are no positions of the rotor compared to the stator that does not allow us to move the rotor.
                        Then, the system will work as magnets aligning each other one on the other. The north pole of a magnet will align with the south pole of another magnet and vice-versa. So, in our motor we will power two opposite coils symmetrically. This can be done by sending the same current into the two coils, provided that they are coiled around the same axis, in the same direction.
                        When the current passes through the coil, the coil appears as a magnet to the rotor.
                    </p>
                    <img src="images/step_motor_rotor_stator_oriented.png">
                    <p>As said before, the north pole of a magnet will be attracted by the south pole of another magnet and repelled by its north pole.
                        This will lead to a movement of the rotor to align with the coils in the stator:
                    </p>
                    <img src="images/step_motor_rotor_stator_aligned.png">
                    <p>Then it’s just a question of activating the right coils to turn the rotor (in our case with a step of 15° or /24rad)</p>
                    <p>In our modelisation, each step allows the rotor to turn 15°. In the Nema 17, each step allows a rotation of 1.25°. This is due to a larger number of magnets on the rotor. </p>
                    <h3>Controlling a step motor</h3>
                    <p>As said in the introduction, each motor is controlled by a DRV 8825 module. This module is an interface between the command board and the coils. The Arduino sends the command for a step, and the chip activates the next coils so that the rotor turns one step.
                        The Arduino also controls the way the rotor turns.
                        The DRV 8825 shows an interesting characteristic: it can be configured to drive the motor in microstep mode. This means that the motor is not controlled directly step by step but fractions of steps per fractions of steps. This allows us to reduce the noise that the motor does when turning.
                        The microstep function is a function that activates not one but two coils at a time, with different currents. The magnetic field will as such vary in space and its maxima will be between the coils, and defined by the current flowing through each coil (the magnetic field is additive).
                        Technically, the algorithm to control a step motor is then as follows:<br>
                        - We tell the motor which way we want him to turn<br>
                        - We tell him when a step is due<br>
                        - We wait for the rotor to turn (a few microseconds)<br>
                        - We repeat the last two steps until we reach the number of steps we desired to make<br>
                        In this algorithm we are controlling the motor through the number of steps it has to perform. This is one of the two ways we are controlling the movement of a motor. The other way is moving the motor until it reaches a point where we detect its position. This second method is used to reinitialize the position of the motors. This reinitialization is obtained after the transmission of the circular motion onto a linear motion.
                    </p>
                    <h3>Transmission of a circular motion onto a linear motion</h3>
                    <p>The most common way to convert a circular movement onto a linear one, is to use a screw-nut system. The screw turns into the nut, thus creating a linear movement of the nut by applying a circular motion on the screw. </p>
                    <img src="images/screw_nut_system.png">
                    <p>Each full turn of the screw allows the nut to move a fixed distance. In our case, each full turn of the motor allows the nut to move 0.4cm. Added to that the fact that we can control the turning of the motor with a precision of 1.5°, it means that we can control the position of the nut with a precision of 17µm, which is much more than we really need for our system.
                        This being said, it can happen that the motor does one step more or skips one step when being commanded. This error can be neglected if the movement is relatively small but accumulated on all the movements that both the plate and the pipette will have to perform, it can become a real problem. This is why we added sensors at strategic points that allow us to tell if the motor is at his right position or not.
                        Those sensors are basically switches: when pressed they send a value through one cable and when released, they send another value. As we will control their position with an Arduino, the easiest way to pilot it is by piloting it between 0V and 5V, both imposed via the Arduino.
                    </p>
                    <p>There are two sensors on the device. One sensor is used to define the position of the pipette when it is at its highest position. The other one is used to recognise the point where the pipette is over the dropping hole.
                        Those two sensors allow us to be sure of the position of both the plate and the pipette and they act as initializing sensors. The whole algorithm is built so that they are activated regularly to verify the right positioning of the different elements.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <div id="menu-container"></div>


    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="bootstrap.min.js"></script>


    <script src="js/TweenMax.min.js"></script>
    <script src="js/ScrollToPlugin.min.js"></script>
    <script src="js/velocity.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.2.3/velocity.ui.min.js"></script>
    <script src="js/ScrollMagic.min.js"></script>
    <script src="js/debug.addIndicators.min.js"></script>
    <script src="js/animation.gsap.min.js"></script>

    <script src="js/three.r92.min.js"></script>
    <script src="js/vanta.net.min.js"></script>
    <script>
        /**VANTA.NET({
            el: "#menu-container",
            color: 0x3fe8ff,
            backgroundColor: 0x000000,
            points: 20.00
        })*/
    </script>
    <script src="js/left-menu.js"></script>
    <script>


        // init controller
        var controller1 = new ScrollMagic.Controller({container: "#explain-page"});

        // build tween
        var tween = TweenMax.from("#animate", 1, {autoAlpha: 0, scale: 0.7});

        // build scene
        var scene = new ScrollMagic.Scene({triggerElement: "#ewod", duration: 2000, triggerHook: "onLeave"})
            .setTween(tween)
            .addTo(controller1);

        // change behaviour of controller to animate scroll instead of jump
        controller1.scrollTo(function (newpos) {
            TweenMax.to("#explain-page", 1, {scrollTo: {y: newpos}});
        });



        var highlightMenuItem = function(addClass) {
            var url = window.location

            var menuItem = $('#title-menu a').filter(function() {
                return this.href == url;
            })

            if (addClass) {
                menuItem.addClass('active-menu');
            } else {
                menuItem.removeClass('active-menu')
            }
        }

        $(document).ready(function () {
            highlightMenuItem(true)

        });

        $(document).on("click", "#title-menu a[href^='#']", function (e) {
            highlightMenuItem(false);
            var id = $(this).attr("href");
            if ($(id).length > 0) {
                e.preventDefault();
                // trigger scroll
                controller1.scrollTo(id);

                // if supported by the browser we can even update the URL.
                if (window.history && window.history.pushState) {
                    history.pushState("", document.title, id);
                }
            }
            $(this).promise().done(function() {
                highlightMenuItem(true)
            })
        });

        /**var controller2 =  new ScrollMagic.Controller({container: "#ewod"});


        var scene = new ScrollMagic.Scene({triggerElement: "#microchip", duration: 600})
            .setPin("#microchip-img", {pushFollowers: false})
            .addIndicators({name: "1 (duration: 300)"}) // add indicators (requires plugin)
            .addTo(controller2);

        console.log($("#microchip-img").outerHeight());*/

    </script>

    <script src='js/scripts.js' type='text/javascript'></script>

    <script src="js/Drift.js"></script>
    <script>
        new Drift(document.querySelector('.drift-demo-trigger'), {
            paneContainer: document.querySelector('.detail'),
            inlinePane: 900,
            inlineOffsetY: -85,
            containInline: true
        });

    </script>

    </body>
</html>